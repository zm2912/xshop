{"version":3,"sources":["webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/main.js","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/public/login.vue?86e6","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/public/login.vue?2cf4","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/public/login.vue?3223","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/public/login.vue?d6df","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/public/login.vue","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/public/login.vue?561e","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/public/login.vue?f790"],"names":["createPage","Page","data","username","password","logining","referer","loginWay","mobile","code","onLoad","option","methods","inputChange","e","key","currentTarget","dataset","detail","value","setLoginWay","val","getCode","uni","showLoading","title","$http","post","then","res","hideLoading","showToast","navBack","navigateBack","toRegist","navigateTo","url","toCenter","reLaunch","toLogin","sendData","login","getCartProducts","goReferer","catch","vendorLogin","account","Account","init","encodeURIComponent","window","location","href","console","log","setStorageSync","token","getUserinfo","decodeURIComponent","fail","onGotUserInfo","encryptedData","iv","rawData"],"mappings":"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","file":"pages/public/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/public/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=76d9b2ab&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni-app项目/商城/xshop-uni-app/pages/public/login.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=76d9b2ab&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapMutations,\n\tmapActions\n} from 'vuex';\nimport Account from '../../common/account/Account.js'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tlogining: false,\n\t\t\treferer: null,\n\t\t\tloginWay: 0,\n\t\t\tmobile: '',\n\t\t\tcode: '',\n\n\n\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tthis.referer = option.referer ? option.referer : null\n\n\n\n\n\n\n\n\t},\n\tmethods: {\n\t\t...mapActions(['login', 'getCartProducts', 'getUserinfo']),\n\t\tinputChange(e) {\n\t\t\tconst key = e.currentTarget.dataset.key;\n\t\t\tthis[key] = e.detail.value;\n\t\t},\n\t\tsetLoginWay(val) {\n\t\t\tthis.loginWay = val\n\t\t},\n\t\tgetCode() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '短信发送中'\n\t\t\t})\n\t\t\tthis.$http.post('index.code.get', {mobile: this.mobile}).then(res => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"短信已发送\"\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tnavBack() {\n\t\t\tuni.navigateBack();\n\t\t},\n\t\ttoRegist() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"/pages/public/registe\"\n\t\t\t})\n\t\t},\n\t\ttoCenter() {\n\t\t\tuni.reLaunch({\n\t\t\t\turl: '/pages/user/user'\n\t\t\t})\n\t\t},\n\t\tasync toLogin() {\n\t\t\tthis.logining = true;\n\t\t\tlet sendData = {}\n\t\t\tif (this.loginWay == 0) {\n\t\t\t\tconst { username, password } = this\n\t\t\t\tsendData = { username, password, loginWay: this.loginWay }\n\t\t\t} else if (this.loginWay == 1) {\n\t\t\t\tconst { mobile, code } = this\n\t\t\t\tsendData = {\n\t\t\t\t\tmobile, code, loginWay: this.loginWay\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.login(sendData).then(res => {\n\t\t\t\tthis.logining = false\n\t\t\t\tthis.getCartProducts()\n\t\t\t\tthis.goReferer()\n\t\t\t}).catch(e => {\n\t\t\t\tthis.logining = false\n\t\t\t})\n\t\t},\n\t\tasync vendorLogin(code, data) {\n\t\t\tlet account = Account.init(code)\n\t\t\tswitch (code) {\n\t\t\t\tcase 'WxH5' : {\n\t\t\t\t\tlet url = '/addons/xshop/vendor/getAuthUrl?vendor=WxH5'\n\t\t\t\t\tif (!!this.referer) url += '&payload[referer]=' + encodeURIComponent(this.referer)\n\t\t\t\t\twindow.location.href = url\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'WechatMp' : {\n\t\t\t\t\tconsole.log(data, \"vendorLogin\")\n\t\t\t\t\tlet res = await account.login(data)\n\t\t\t\t\tuni.setStorageSync('token', res.data.token)\n\t\t\t\t\tthis.getUserinfo()\n\t\t\t\t\tthis.goReferer()\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'App5' : {\n\t\t\t\t\taccount.login(data, res => {\n\t\t\t\t\t\tuni.setStorageSync('token', res.data.token)\n\t\t\t\t\t\tthis.getUserinfo()\n\t\t\t\t\t\tthis.goReferer()\n\t\t\t\t\t}, e => {})\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgoReferer() {\n\t\t\tif (this.referer) {\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: decodeURIComponent(this.referer),\n\t\t\t\t\tfail: this.toCenter(),\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.toCenter()\n\t\t\t}\n\t\t},\n\t\tonGotUserInfo: function(e) {\n\t\t\tlet detail = e.detail\n\t\t\tconsole.log(e, \"onGotUserInfo\")\n\t\t\tlet data = {\n\t\t\t\tencryptedData:detail.encryptedData,\n\t\t\t\tiv: detail.iv,\n\t\t\t\trawData: detail.iv\n\t\t\t}\n\t\t\tthis.vendorLogin('WechatMp', data)\n\t\t}\n\t},\n\n}\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589019289027\n      var cssReload = require(\"D:/项目/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}