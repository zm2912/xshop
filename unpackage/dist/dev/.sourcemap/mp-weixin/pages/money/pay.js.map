{"version":3,"sources":["webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/main.js","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/money/pay.vue?cd7f","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/money/pay.vue?fbde","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/money/pay.vue?59b5","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/money/pay.vue?8731","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/money/pay.vue","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/money/pay.vue?b30b","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/money/pay.vue?5a64"],"names":["createPage","Page","components","CountDown","data","payType","orderInfo","computed","payTypeArr","res","onReady","onLoad","options","order_sn","getData","$on","e","paySuccess","uni","showToast","title","methods","$http","get","then","checkOrder","catch","changePayType","type","confirm","length","confirmMPWEIXIN","pay_method","form","pay_type","appId","getStorageSync","openId","showLoading","post","hideLoading","wxpay","JSON","parse","requestPayment","provider","timeStamp","nonceStr","package","signType","paySign","success","$emit","fail","complete","redirectTo","url","navTo","icon","setTimeout","hideToast","status","is_pay","reGetData"],"mappings":"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","file":"pages/money/pay.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/money/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=619c49a1&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni-app项目/商城/xshop-uni-app/pages/money/pay.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=619c49a1&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = parseInt(_vm.orderInfo.left_time)\n  var g0 = _vm.payTypeArr.indexOf(\"wechat\")\n  var g1 = _vm.payTypeArr.indexOf(\"alipay\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CountDown from '@/components/min-countdown'\nexport default {\n\tcomponents: {\n\t\tCountDown\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpayType: \"wechat\",\n\t\t\torderInfo: {},\n\n\n\n\t\t};\n\t},\n\tcomputed: {\n\t\tpayTypeArr() {\n\t\t\tlet res = [];\n\n\n\n\n\n\n\n\t\t\tres = ['wechat']\n\n\n\n\n\n\n\n\t\t\treturn res\n\t\t}\n\t},\n\tasync onReady() {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t},\n\tonLoad(options) {\n\t\tthis.order_sn = options.order_sn\n\t\tthis.getData()\n\t\t\n\t\tthis.$on('onPaySuccess', (e, res) => {\n\t\t\tthis.paySuccess()\n\t\t})\n\t\tthis.$on('onPayFail', (e, res) => {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: e,\n\t\t\t\t'icon': 'none'\n\t\t\t})\n\t\t})\n\t},\n\n\tmethods: {\n\t\tgetData() {\n\t\t\tthis.$http.get('order.info', {\n\t\t\t\torder_sn: this.order_sn,\n\t\t\t}).then(res => {\n\t\t\t\tthis.orderInfo = res.data\n\t\t\t\tthis.checkOrder()\n\t\t\t}).catch(e => {})\n\t\t},\n\t\t//选择支付方式\n\t\tchangePayType(type) {\n\t\t\tthis.payType = type;\n\t\t},\n\t\tconfirm() {\n\t\t\tif (this.payTypeArr.length == 1) this.payType = this.payTypeArr[0]\n\n\n\n\n\n\n\n\n\t\t\tthis.confirmMPWEIXIN()\n\n\n\n\n\n\n\n\n\n\n\t\t\t\n\t\t},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\n\n\t\tconfirmMPWEIXIN() {\n\t\t\tlet pay_method = 'miniapp'\n\t\t\tlet form = {\n\t\t\t\torder_sn: this.order_sn, \n\t\t\t\tpay_type: this.payType, \n\t\t\t\tpay_method,\n\t\t\t\tappId: uni.getStorageSync('appId'),\n\t\t\t\topenId: uni.getStorageSync('openId')\n\t\t\t}\n\t\t\tuni.showLoading()\n\t\t\tthis.$http.post('pay', form).then(res => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tif (res.data) {\n\t\t\t\t\tlet wxpay = typeof res.data == 'string' ? JSON.parse(res.data) : res.data\n\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\t\ttimeStamp: wxpay.timeStamp,\n\t\t\t\t\t\tnonceStr: wxpay.nonceStr,\n\t\t\t\t\t\tpackage: wxpay.package,\n\t\t\t\t\t\tsignType: wxpay.signType,\n\t\t\t\t\t\tpaySign: wxpay.paySign,\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tthis.$emit('onPaySuccess')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\tthis.$emit('onPayFail')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: () => {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tuni.hideLoading()\n\t\t\t})\n\t\t},\n\n\t\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\tpaySuccess() {\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '/pages/money/paySuccess'\n\t\t\t})\n\t\t},\n\t\tnavTo(title = '', url = '/pages/order/order?state=0') {\n\t\t\tuni.showToast({\n\t\t\t\ttitle,\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.hideToast()\n\t\t\t\tuni.redirectTo({\n\t\t\t\t\turl\n\t\t\t\t})\n\t\t\t}, 500)\n\t\t},\n\t\tcheckOrder() {\n\t\t\tif (this.orderInfo.status == -1) {\n\t\t\t\tthis.navTo('订单已失效')\n\t\t\t} else if (this.orderInfo.is_pay == 1) {\n\t\t\t\tthis.navTo(\"订单已支付\")\n\t\t\t}\n\t\t},\n\t\treGetData() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.getData()\n\t\t\t}, 1000)\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589016924793\n      var cssReload = require(\"D:/项目/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}