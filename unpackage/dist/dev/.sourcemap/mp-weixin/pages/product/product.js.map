{"version":3,"sources":["webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/main.js","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/product/product.vue?8c72","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/product/product.vue?9ccf","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/product/product.vue?44db","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/product/product.vue?9838","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/product/product.vue","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/product/product.vue?7a49","webpack:///D:/项目/uni-app项目/商城/xshop-uni-app/pages/product/product.vue?d993"],"names":["createPage","Page","components","share","numberBox","coupon","grouponBox","data","id","product","quantity","attrChoose","specClass","shareList","reviewList","couponList","couponVisible","good_review","showLoadMore","review_page","current_group_price","skusValueAsKey","skusStates","onLoad","options","getProductInfo","then","res","on_sale","uni","showToast","title","icon","parseProduct","getSystemInfoSync","windowWidth","windowHeight","i","content","length","children","name","attrs","width","console","log","convertSkusKey","skus","specInit","getReviews","$tools","has_addon","getCoupon","computed","user","state","userinfo","currentSku","attrValues","push","attrItems","val","join","value","watch","handler","getGroupPrice","deep","methods","groupon","groupPrice","group_price","toggleSpec","setTimeout","index","attrGroup","$set","getSkusStates","selectSpec","childIndex","item","result","forEach","row","subItem","subIndex","getSkuItem","stock","key","$refs","toggleMask","toFavorite","goLogin","form","favorite","$http","post","checkOnsale","buy","Obj","url","Object","keys","queryStringify","navigateTo","addCart","sku_id","cartAddProduct","getCartProducts","catch","e","stopPrevent","$parseHtml","encodeURIComponent","couponPop","type","get","page","concat","reviewCount","total","current_page","last_page","reviewLoadMore","addGroup","onShareAppMessage","path","imageUrl","image"],"mappings":"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","file":"pages/product/product.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./product.vue?vue&type=template&id=32844397&\"\nvar renderjs\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni-app项目/商城/xshop-uni-app/pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=32844397&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.$tools.has_addon(\"xshopgroupon\")\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.couponVisible = 1\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport share from '@/components/share';\nimport coupon from './child/coupon';\nimport grouponBox from './child/grouponBox'\nimport {\n\tmapActions,\n\tmapState\n} from 'vuex'\nimport numberBox from '@/components/wlp-number'\nexport default {\n\tcomponents: {\n\t\tshare,\n\t\tnumberBox,\n\t\tcoupon,\n\t\tgrouponBox\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tid: null,\n\t\t\tproduct: {},\n\t\t\tquantity: 1,\n\t\t\tattrChoose: {},\n\t\t\tspecClass: 'none',\n\t\t\tshareList: [],\n\t\t\treviewList: [],\n\t\t\tcouponList: [],\n\t\t\tcouponVisible: 0,\n\t\t\tgood_review: '100%',\n\t\t\tshowLoadMore: false,\n\t\t\treview_page: 1,\n\t\t\tcurrent_group_price: 0,\n\t\t\tskusValueAsKey: [],\n\t\t\tskusStates: []\n\t\t};\n\t},\n\tasync onLoad(options) {\n\t\tthis.id = options.id\n\t\tthis.getProductInfo({\n\t\t\tid: this.id\n\t\t}).then(res => {\n\t\t\tif (res.data.on_sale == 0) uni.showToast({\n\t\t\t\ttitle: '商品已下架',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\tthis.product = this.parseProduct(res.data)\n\t\t\tconst { windowWidth, windowHeight } = uni.getSystemInfoSync();\n\t\t\tfor (let i= 0; i<this.product.content.length; i++){\n\t\t\t\tif ('children' in this.product.content[i]) {\n\t\t\t\t\tif (this.product.content[i].children[0].name == 'img') {\n\t\t\t\t\t\tthis.product.content[i].children[0].attrs.width = `${windowWidth}`\n\t\t\t\t\t\tconsole.log(this.product.content[i].children[0].attrs, \"this.product.content[i][0]\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(this.product.content, \"this.product.content\")\n\t\t\tthis.convertSkusKey(this.product.skus)\n\t\t\tthis.specInit()\n\t\t});\n\t\tthis.getReviews()\n\t\tif (this.$tools.has_addon('xshopcoupon')) this.getCoupon()\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tuser: state => state.user.userinfo\n\t\t}),\n\t\tcurrentSku() {\n\t\t\tlet attrValues = []\n\t\t\tfor (let i in this.attrChoose) {\n\t\t\t\tattrValues.push(this.product.attrItems[i][this.attrChoose[i]])\n\t\t\t}\n\t\t\tconst val = attrValues.join(',')\n\t\t\tfor (let i in this.product.skus) {\n\t\t\t\tif (this.product.skus[i].value == val) return this.product.skus[i]\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tcurrentSku: {\n\t\t\thandler(val) {\n\t\t\t\tthis.getGroupPrice()\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapActions(['getProductInfo', 'cartAddProduct', 'getCartProducts']),\n\t\t//规格弹窗开关\n\t\tgetGroupPrice() {\n\t\t\tif (this.product.groupon) {\n\t\t\t\tlet groupPrice = this.product.groupon.group_price\n\t\t\t\tthis.current_group_price = groupPrice[this.currentSku.id]\n\t\t\t} else this.current_group_price = 0\n\t\t},\n\t\ttoggleSpec() {\n\t\t\tif (this.specClass === 'show') {\n\t\t\t\tthis.specClass = 'hide';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t}, 250);\n\t\t\t} else if (this.specClass === 'none') {\n\t\t\t\tthis.specClass = 'show';\n\t\t\t}\n\t\t},\n\t\tspecInit() {\n\t\t\tfor (let index in this.product.attrGroup) {\n\t\t\t\tthis.$set(this.attrChoose, index, 0)\n\t\t\t}\n\t\t\tthis.getSkusStates()\n\t\t},\n\t\t//选择规格\n\t\tselectSpec(index, childIndex, item) {\n\t\t\tthis.$set(this.attrChoose, index, childIndex)\n\t\t\tthis.getSkusStates()\n\t\t},\n\t\tgetSkusStates() {\n\t\t\tlet result = []\n\t\t\tlet data = this.attrChoose\n\t\t\tthis.product.attrItems.forEach((item, index) => {\n\t\t\t\tlet row = []\n\t\t\t\titem.forEach((subItem, subIndex) => {\n\t\t\t\t\tif (subIndex != data[index]) {\n\t\t\t\t\t\tlet value = this.getSkuItem(index, subIndex, subItem)\n\t\t\t\t\t\tif (this.skusValueAsKey[value].stock <= 0) row[subIndex] = false\n\t\t\t\t\t\telse row[subIndex] = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow[subIndex] = true\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tresult.push(row)\n\t\t\t})\n\t\t\tthis.skusStates = result\n\t\t},\n\t\tgetSkuItem(index, subIndex, subItem) {\n\t\t\tlet result = []\n\t\t\tlet data = this.attrChoose\n\t\t\tfor (let key in data) {\n\t\t\t\tif (index == key) {\n\t\t\t\t\tresult.push(subItem)\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(this.product.attrItems[key][data[key]])\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(',')\n\t\t},\n\t\tconvertSkusKey(skus) {\n\t\t\tskus.forEach((item, index) => {\n\t\t\t\tthis.skusValueAsKey[item.value] = item\n\t\t\t})\n\t\t\t\n\t\t},\n\t\t//分享\n\t\tshare() {\n\t\t\tthis.$refs.share.toggleMask();\n\t\t},\n\t\t//收藏\n\t\ttoFavorite() {\n\t\t\tif (!this.user.id) {\n\t\t\t\tthis.goLogin()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet form = {\n\t\t\t\tid: this.product.id,\n\t\t\t\tstate: this.product.favorite == 0 ? 1 : 0\n\t\t\t}\n\t\t\tthis.$http.post('product.favorite', form).then(res => {\n\t\t\t\tthis.$set(this.product, 'favorite', form.state)\n\t\t\t})\n\t\t},\n\t\tcheckOnsale() {\n\t\t\tif (this.product.on_sale == 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '商品已下架',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\t\tbuy(Obj = {}) {\n\t\t\tif (!this.user.id) {\n\t\t\t\tthis.goLogin()\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif (!this.checkOnsale()) return;\n\n\t\t\tif (this.currentSku.stock < this.quantity) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '库存不足',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet url = `/pages/order/createOrder?sku_id=` + this.currentSku.id + '&quantity=' + this.quantity\n\t\t\tif (Object.keys(Obj).length > 0)\n\t\t\turl += '&' + this.$tools.queryStringify(Obj)\n\t\t\tuni.navigateTo({\n\t\t\t\turl\n\t\t\t})\n\t\t},\n\t\taddCart() {\n\t\t\tif (!this.user.id) {\n\t\t\t\tthis.goLogin()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!this.checkOnsale()) return;\n\t\t\tif (this.currentSku.stock < this.quantity) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '库存不足',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet form = {\n\t\t\t\tsku_id: this.currentSku.id,\n\t\t\t\tquantity: this.quantity\n\t\t\t}\n\t\t\tthis.cartAddProduct(form).then(res => {\n\t\t\t\tthis.getCartProducts()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加入成功'\n\t\t\t\t})\n\t\t\t}).catch(e => {\n\n\t\t\t})\n\t\t},\n\t\tstopPrevent() {},\n\t\tparseProduct(product) {\n\t\t\tproduct.content = this.$parseHtml(product.content)\n\t\t\treturn product\n\t\t},\n\t\tgoLogin() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/public/login?referer=' + encodeURIComponent('/pages/product/product?id=' + this.id)\n\t\t\t})\n\t\t},\n\t\tgetCoupon() {\n\t\t\tthis.$http.post('product.getCoupons', {\n\t\t\t\tid: this.id\n\t\t\t}).then(res => {\n\t\t\t\tthis.couponList = res.data\n\t\t\t})\n\t\t},\n\t\tcouponPop(index) {\n\t\t\tthis.$set(this.couponList[index], 'has', 1)\n\t\t},\n\t\tgetReviews(type = 'init') {\n\t\t\tthis.$http.get('product.reviews', {\n\t\t\t\tid: this.id,\n\t\t\t\tpage: this.review_page\n\t\t\t}).then(res => {\n\t\t\t\tthis.reviewList = type == 'init' ? res.data.data : this.reviewList.concat(res.data.data)\n\t\t\t\tthis.reviewCount = res.data.total\n\t\t\t\tthis.good_review = res.data.good_review\n\t\t\t\tthis.showLoadMore = res.data.current_page < res.data.last_page ? true : false\n\t\t\t})\n\t\t},\n\t\treviewLoadMore() {\n\t\t\tthis.review_page += 1\n\t\t\tthis.getReviews('loadmore')\n\t\t},\n\t\taddGroup(data) {\n\t\t\tthis.buy(data)\n\t\t}\n\t},\n\tonShareAppMessage() {\n\t\tlet path = '/pages/product/product?id=' + this.product.id\n\t\tif (this.user.id) path += '&uid=' + this.user.id\n\t\treturn {\n\t\t\ttitle: this.product.title,\n\t\t\tpath,\n\t\t\timageUrl: this.product.image[0]\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589019289199\n      var cssReload = require(\"D:/项目/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}